# aka

**aka**は、ターミナルですぐに使えるエイリアス（関数）を即座に作成・管理できるCLIツールです。
「あ、今のコマンド長かったな、登録しておこう」と思ったその瞬間にエイリアスを作成し、**再読み込みなし**で即座に使用することができます。

## 特徴

- ⚡ **即時反映**: `aka add` した瞬間から、現在のターミナルセッションで使用可能になります。
- 💾 **永続化**: 再起動しても設定は消えません。
- 🔧 **柔軟な引数**: 単純なエイリアスだけでなく、引数 (`$1` 等) を使った関数も定義可能です。
- 🚀 **ショートカット**: `aka add` や `aka remove` を省略した直感的なコマンド入力が可能です。

## インストールとセットアップ

### 1. ビルド & インストール

```bash
brew install gohan5858/tap/aka
```

### 2. シェルへの統合

以下のコマンドを実行することで、`.zshrc` に必要な設定が自動的に追加されます。

```bash
aka install
```

もしくは、手動で以下を `.zshrc` や `.bashrc` に追加することも可能です。

```bash
eval "$(aka init)"
```

設定を反映させるため、一度ターミナルを再起動するか `source ~/.zshrc` を実行してください。

## 使い方

### エイリアスの追加

#### 基本的な使い方

```bash
# 基本的な使い方（自動的に引数 "$@" が末尾に付きます）
aka add hello "echo 'hello world!!'"

# ショートカット記法
aka hello "echo 'hello world!!'"

```

#### 任意の引数

引数（`@1`, `@2`...）を含めると、自動的にそれを認識して関数として登録します。
`@` 記法を使うと、シェルによる事前の変数展開を防ぐことができます。

```bash
# 引数を好きな場所に埋め込む
aka add hello_someone "echo @1 && echo @2"
```

### 一覧表示

```bash
aka list

# ショートカット記法
aka
```

### 履歴からの追加（fzf 連携）

`fzf` を使って履歴からコマンドを選び、エイリアスとして登録します。

```bash
# 履歴から選択して登録（エイリアス名は対話入力）
aka add

# スコープ付きで登録
aka add --scope . --recursive

```

#### 必要な依存

- `fzf` がインストールされている必要があります。

#### 環境変数

- `AKA_FZF_BIN`: fzf のパス（例: `/opt/homebrew/bin/fzf`）
- `AKA_HISTORY_FILE`: 読み込む履歴ファイルのパス
- `HISTFILE`: `AKA_HISTORY_FILE` 未設定時に参照

### 削除

```bash
aka remove hello

# ショートカット記法
aka hello
```
